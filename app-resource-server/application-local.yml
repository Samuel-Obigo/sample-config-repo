# application-local.yml

server:
  servlet:
    session:
      cookie:
        path: /
        http-only: true
        same-site: Lax   # (gateway/외부 도메인 섞이면 None+Secure 고려)
        secure: false    # https면 true

variable:
  app:
    issuer:
      port: 9000
      uri: http://localhost:${variable.app.issuer.port}/auth

  # persistence-starter
  datasource:
    jdbc-url: jdbc:postgresql://localhost:5432/sample?currentSchema=oauth2,admin,sample,public
    username: sample
    password: sample
  jpa:
    ddl-auto: update

  # kafka-stater
  kafka:
    boostrap-servers: localhost:9092
    consumer:
      group-id: resource-group
---
spring:
  config:
    activate:
      on-profile: gateway

variable:
  app:
    gateway:
      port: 8000
    issuer:
      port: ${variable.app.gateway.port}
---
spring:
  config:
    activate:
      on-profile: web

variable:
  web:
    # web > redis profile
    redis:
      host: localhost
      port: 6379
